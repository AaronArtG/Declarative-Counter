!function(){if(window.XMLHttpRequest){var e=window.XMLHttpRequest;window.XMLHttpRequest=function(){var t,n=new e;let o="",r=document.querySelector("#zoom-quick2adv-number");r&&null!==r&&(o=r.textContent);let i="";function a(e,t){var n=function(e){for(var t={},n=e.split("&"),o=0;o<n.length;o++){var r=n[o].split("=");t[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return t}(e);return void 0!==n[t]?n[t]:null}function l(e){var t=null;try{e=(e=e.replace(/\n/g," ")).substring(e.indexOf("'")+1,e.length),t=JSON.parse(e)}catch(e){}return t}function s(e){let t=null,n=null,o="";try{let r=e;o=r[5];let i=r[35][1][0],a=r[36][1][0],l=JSON.parse(document.querySelector("#timezonedata").innerText)[0];n=r[35][2],n||(n=document.querySelector("#xTimezone").innerText);let s=0;for(let e=0,t=l.length;e<t;e++){let t=l[e];if(t[0]===n){s=36e5*parseInt(t[1].slice(4,7));let e=6e4*parseInt(t[1].slice(8,10));e>0&&(s=s>0?s+e:s-e);break}}i=new Date(i+s).toJSON().split(".000Z")[0].replace(/-/g,"").replace(/:/g,""),a=new Date(a+s).toJSON().split(".000Z")[0].replace(/-/g,"").replace(/:/g,""),t=i+"/"+a}catch(e){console.log("Dates conversion failed: "+e)}return{dates:t,timezone:n,topic:o}}function c(){let e=document.querySelector("#zoom_repeat_edit_flag"),t=null;return e&&(t=e.textContent,e.textContent="0"),t}var d=n.open;function u(e){window.postMessage({event_baseid:" ",action:"recordZmlog",msgType:7,msg:{msg:"[Zoom Scheduler] Sync.Sync Request format exception: "+JSON.stringify(e),filename:"zm-observer.js"},operaType:3},"*")}n.open=function(e,n,r){return this.addEventListener("readystatechange",(function(){if(4===this.readyState){var e=a(t,"action");if("event"===n&&"CREATE"===e){var r=l(this.responseText),d="";if((m=document.querySelector("#zoom-quick2adv-number"))&&null!==m&&(d=m.textContent),r&&void 0!==r[0]&&void 0!==r[0][1]&&""!==d){let e=r[7][1];"string"==typeof e&&e.length>20&&window.postMessage({calendarId:e,action:"event",number:d},"*"),document.querySelector("#zoom-quick2adv-number").textContent=""}}else if("deleteevent"===n){var u=a(t,"eid");u&&u.length<128&&window.postMessage({calendarId:u,action:"deleteevent"},"*")}else if("event"===n&&"EDIT"===e){var m;(m=document.querySelector("#zoom-quick2adv-number"))&&m.textContent&&(m.textContent="");let e=a(t,"eid"),n=a(t,"dates"),o=document.querySelector("#zoom_edit_event_flag").textContent;if(document.querySelector("#zoom_edit_event_flag").textContent="0","0"===o&&e&&n){let t=null;try{let e=l(this.responseText);t=JSON.parse(e[0][1])[22][3][0]}catch(e){}window.postMessage({calendarId:e,action:"updatetimeandtimezone",dates:n,timezone:t},"*")}}else{if("sync.sync"!==n)return;{let e=null;try{e=JSON.parse(a(t,"f.req"))}catch(e){}let n=l(this.responseText),r=null,d=null,u=null,m=null,p=null,y=null,g=null,v=null;try{g=n[0][2][3]}catch(e){}try{d=n[0][2][11][2],v=atob(d)}catch(e){}if(Array.isArray(g)&&(v||i))for(let e=g.length-1;e>-1;e--){let t=g[e];if(Array.isArray(t)){let e=t[1];if(Array.isArray(e))for(let t=0,n=e.length;t<n;t++){let n=e[t];if(Array.isArray(n)){let e=n[3];if(Array.isArray(e)&&e[0]){let t=e[0];if(v&&v.indexOf(t)>-1||!v&&t===i){p=e;break}}}}}if(p){y=t[0];break}}if(Array.isArray(p)&&(r=p[2],u=p[1],m=p[0]),r){let e=r.split("eid=")[1],t=!1,n=null,a=null,l=[];if(m){let e=p[20];if(Array.isArray(e)){a=[];for(var f=0;f<e.length;f++)try{let t=e[f][0],n=e[f][1];t&&a.push(t),n&&l.push(n)}catch(e){}}}if(v&&m){let r="";try{r=v.split(m)[1]}catch(e){console.log("Markup field format changes!")}if(r.length<6){let t="",r=document.querySelector("#zoom-quick2adv-number");if(o?t=o:r&&null!==r&&(t=r.textContent),e&&t&&("string"==typeof e&&e.length>20&&(window.postMessage({calendarId:e,action:"event",number:t,event_baseid:m},"*"),n=t),o==r.textContent&&(document.querySelector("#zoom-quick2adv-number").textContent=""),"1"===c()||l.length)){let{dates:e,timezone:n,topic:o}=s(p);e&&window.postMessage({event_baseid:m,action:"updatetimeandtimezone",dates:e,timezone:n,topic:o,number:t,zoomrooms:l.join(",")},"*")}i?(i!=m&&(console.log("The create request occurs, but sendBaseid is not equal to nid!"),window.postMessage({event_baseid:m,action:"recordZmlog",msgType:7,msg:{msg:"The create request occurs, but sendBaseid is not equal to nid!",nid:m,sendBaseid:i,filename:"zm-observer.js"},operaType:3},"*")),i=""):(console.log("The create request occurs, but sendBaseid has no value!"),window.postMessage({event_baseid:m,action:"recordZmlog",msgType:7,msg:{msg:"The create request occurs, but sendBaseid has no value!",nid:m,filename:"zm-observer.js"},operaType:3},"*"))}else{let n=document.querySelector("#zoom-quick2adv-number");n&&n.textContent&&(n.textContent="");let r=document.querySelector("#zoom_edit_event_flag"),i=null;if(r&&(i=r.textContent,r.textContent="0"),("0"===i||"1"===c()||l.length)&&e){let{dates:e,timezone:n,topic:r}=s(p);e&&(window.postMessage({event_baseid:m,action:"updatetimeandtimezone",dates:e,timezone:n,topic:r,number:o,zoomrooms:l.join(",")},"*"),"0"===i&&(t=!0))}}}else if(m&&("1"===c()||l.length)){let{dates:e,timezone:t,topic:n}=s(p);e&&window.postMessage({event_baseid:m,action:"updatetimeandtimezone",dates:e,timezone:t,topic:n,number:o,zoomrooms:l.join(",")},"*")}if(m&&!t&&Array.isArray(a))if(n)a.length&&window.postMessage({meetingNumber:n,event_baseid:m,action:"saveInvitee",invitee:a,reFilter:!1},"*");else{let e,t=p[7];try{e=p[64][1]}catch(e){}(t||e)&&window.postMessage({event_baseid:m,action:"saveInvitee",invitee:a,reFilter:!0,joinUrl:t,descText:e},"*")}}else if(2===u){let e=!1;try{v.indexOf(y)>-1&&(e=!0)}catch(e){}if(!e)return;try{n[0][2][3][1][1][0][3][34][0]&&(e=!1)}catch(e){}try{n[0][2][3][3][1][0][3][2]&&(e=!1)}catch(e){}try{n[0][2][3][1][1][1][3][2]&&(e=!1)}catch(e){}try{void 0===n[0][2][4][0]&&(e=!1)}catch(e){}e&&window.postMessage({event_baseid:m,action:"deleteevent"},"*")}}}}}),!0),d.apply(this,arguments)};var m=n.send;return n.send=function(e){var n=document.querySelector("#zm-quick-desc"),o=document.querySelector("#zm-quick-location");if("string"==typeof e&&e.indexOf("f.req=")>=0){let t=e.split("&"),a=null;for(let e=0,n=t.length;e<n;e++){let n=t[e];if(n.indexOf("f.req=")>=0){try{a=JSON.parse(decodeURIComponent(n.split("f.req=")[1]))}catch(e){}break}}if(Array.isArray(a)){let t=!1,l=-2;try{let e=a[0]?.[4];if(Array.isArray(e)&&e.length)for(var r=e.length-1;r>-1;r--){let t=e[r]?.[2];if(Array.isArray(t)){l=r;break}}}catch(e){}if(n&&""!==n.textContent){try{l>-1&&(a[0][4][l][2][0][2][3][1][2][1]=decodeURIComponent(n.textContent),t=!0,n.textContent="")}catch(e){}t||u(a)}if(o&&""!==o.textContent)try{l>-1&&(a[0][4][l][2][0][2][3][3][11]=[null,null,[[[null,o.textContent]]]],t=!0,o.textContent="")}catch(e){}t&&(e=e.replace(/f\.req\=[\w\W]*?(?=&)/,"f.req="+encodeURIComponent(JSON.stringify(a))));try{if(l>-1){let e=a[0][4][l][2][0];if(Array.isArray(e)&&e.length)for(let t=e.length-1;t>-1;t--){let n=e[t];if(Array.isArray(n)){let e=n[0];if(e&&e.length>10){i=e;break}}}}}catch(e){}}}else n&&""!==n.textContent&&(e=e.replace(/&details&/g,"&details="+n.textContent+"&")),o&&""!==o.textContent&&(e=e.replace(/&location&/g,"&location="+o.textContent+"&"));return t=e,m.apply(this,[].slice.call(arguments))},n}}}();